# 第8回 課題演習(1) と GitHub: 好きなテーマでアプリを作ろう！

**出席認証コード: 1474**

こんにちは！今日の授業では、これまで学んだStreamlitの知識を活かして、いくつかのテーマの中から一つを選び、オリジナルのWebアプリケーションを作成します。後半では、完成した（または作成途中の）アプリのコードをGitHubを使って保存・管理する方法も学びます。

## 1. 本日の目標

1.  **Streamlit総合演習**: 提示された複数のテーマから一つを選択し、仕様に沿ったStreamlitアプリケーションを設計・実装する。
    - 各テーマで推奨されるStreamlitの機能（ウィジェット、レイアウト、状態管理、ファイル入力など）を効果的に活用する。
2.  **画像・動画の活用**: `st.image` と `st.video` の使い方を理解し、選択したアプリに画像や動画を任意で組み込む。
3.  **GitHub入門**: GitHubの基本的な使い方を理解し、作成したアプリのコードをGitHubに保存・管理できるようになる。

## 2. 演習課題: 好きなテーマを選んでアプリを開発しよう！ (約40-50分)

以下の5つのテーマから、あなたが一番作ってみたいもの、挑戦してみたいものを一つ選んでください。
それぞれのテーマに対応する演習用テンプレートファイル (`app_テーマ名.py`) と解答例ファイル (`app_テーマ名_a.py`) が `src/lecture08/` フォルダ内に用意されています。まずはテンプレートファイルを開いて開発を始めましょう！

**演習に必要な画像ファイルについて（重要）:**
多くのテーマの解答例では、`st.image` を使用して関連画像を表示します。これらの画像ファイルは、各テーマに対応する `src/lecture08/images/テーマ名/` というフォルダ構造で配置することを想定しています（例: ラッキーカラー診断なら `src/lecture08/images/lucky_color/red.png`）。
演習をスムーズに進めるために、これらの画像ファイルは教員から提供されるか、事前にご自身で用意して、指定されたフォルダ構造に従って配置してください。もし画像ファイルが見つからない場合は、アプリ上で警告メッセージと共に代替画像が表示されることがあります。

---

### テーマ1: 今日のラッキーカラー診断アプリ
-   **概要:** 星座や好きな数字などを選ぶと、今日のラッキーカラー、アドバイス、関連画像を表示します。
-   **使う主な機能:** `st.selectbox`, `st.button`, `st.write`/`st.markdown`, `st.image`, Pythonの `if`/`elif` または辞書。
-   **難易度:** ★★★★★ (非常に容易)
-   **演習ファイル:** `src/lecture08/app_lucky_color.py`
-   **解答例ファイル:** `src/lecture08/app_lucky_color_a.py`
-   **ヒント:** 星座や数字と結果（色、アドバイスメッセージ、表示する画像ファイル名など）の対応表をPythonの辞書で事前に作っておくと簡単です。
-   **画像フォルダ(例):** `src/lecture08/images/lucky_color/`
-   **補足:**
    -   `app_lucky_color.py` (テンプレート): 基本的なアプリ骨格と `TODO` コメント、ヒントを記載。星座選択、ボタン配置、結果表示が主な実装箇所。
    -   `app_lucky_color_a.py` (解答例): 星座選択に応じてラッキーカラー、アドバイス、画像パスを表示。結果データは辞書管理。`st.markdown` で色背景表示。

---

### テーマ2: おすすめカフェ/ランチ スタイル診断
-   **概要:** 気分（例：がっつり、ヘルシー）、予算、ジャンルなどの質問に答えると、おすすめのカフェやランチの「スタイル」と関連画像を表示します。
-   **使う主な機能:** `st.radio`, `st.slider`, `st.button`, `st.write`/`st.markdown`, `st.image`, Pythonの `if`/`elif`。
-   **難易度:** ★★★★☆ (比較的容易)
-   **演習ファイル:** `src/lecture08/app_cafe_reco.py`
-   **解答例ファイル:** `src/lecture08/app_cafe_reco_a.py`
-   **ヒント:** 複数の入力の組み合わせから、おすすめのスタイル名（例：「隠れ家風カフェでのんびり読書ランチ」）と、それっぽい画像ファイル名を決定するルールを `if` 文で作ります。質問項目を3つ程度に絞ると管理しやすいです。
-   **画像フォルダ(例):** `src/lecture08/images/cafe_reco/`
-   **補足:**
    -   `app_cafe_reco.py` (テンプレート): 基本骨格と `TODO` コメント、ヒントを記載。質問ウィジェット配置、条件分岐ロジック、結果表示が主な実装箇所。
    -   `app_cafe_reco_a.py` (解答例): 3つの質問（気分、予算、同行者）に基づき、Python辞書で定義された診断ロジックでおすすめスタイルを表示。

---

### テーマ3: かんたん自己紹介カード作成ツール
-   **概要:** フォームで名前や好きなこと、アイコン画像などを入力・アップロードし、整形して画面に表示します。
-   **使う主な機能:** `st.form`, `st.text_input`, `st.selectbox`, `st.text_area`, `st.file_uploader`, `st.form_submit_button`, `st.image`, `st.write`/`st.markdown`, `st.columns`。
-   **難易度:** ★★★★☆ (比較的容易。ファイルアップロード処理とレイアウトがポイント)
-   **演習ファイル:** `src/lecture08/app_profile_card.py` (既存のものを引き続き使用)
-   **解答例ファイル:** `src/lecture08/app_profile_card_a.py` (既存のものを引き続き使用)
-   **ヒント:** `st.form` で入力項目をまとめ、送信後に `st.columns` でアイコンとテキスト情報を分けて表示すると綺麗です。ユーザーがアップロードする画像を使用するため、特定の画像フォルダは不要です。
-   **補足:** このテーマでは、ユーザーがアップロードした画像ファイルを使用します。テンプレートと解答例は既存のファイルを参照してください。

---

### テーマ4: シンプルなToDoリスト
-   **概要:** テキスト入力でタスクを追加し、チェックボックスで完了管理ができるリストを作成します。タスクの削除機能も付けてみましょう。
-   **使う主な機能:** `st.text_input`, `st.button`, `st.checkbox`, `st.session_state`, `st.write`。
-   **難易度:** ★★★☆☆ (やや注意が必要。`st.session_state` でリストを管理し、状態を更新するロジックの理解が鍵)
-   **演習ファイル:** `src/lecture08/app_todo_list.py`
-   **解答例ファイル:** `src/lecture08/app_todo_list_a.py`
-   **ヒント:** ToDoリスト（文字列のリストなど）を `st.session_state` に保存します。追加ボタンでリストに項目を加え、表示する際には各項目に削除ボタンや完了チェックボックスを付けます。コールバック関数が役立ちます。このテーマでは通常、外部画像ファイルは使用しません。
-   **補足:**
    -   `app_todo_list.py` (テンプレート): `st.session_state` 利用、タスク追加フォーム、リスト表示、完了管理、削除ボタン実装箇所に `TODO` とヒントを記載。ウィジェットの `key` の重要性も強調。
    -   `app_todo_list_a.py` (解答例): `st.session_state` でToDoリスト（タスクID、内容、完了状態を持つ辞書のリスト）を管理。タスク追加は `st.form` とコールバック、表示・操作は `st.columns`, `st.checkbox`, `st.button` とコールバックを活用。

---

### テーマ5: おみくじアプリ
-   **概要:** ボタンを押すと、ランダムに今日の運勢（大吉、中吉、小吉など）、一言メッセージ、関連する画像を表示します。
-   **使う主な機能:** `st.button`, `st.write`/`st.markdown`, `st.image`, Pythonの `random.choice`。
-   **難易度:** ★★★★★ (非常に容易)
-   **演習ファイル:** `src/lecture08/app_omikuji.py`
-   **解答例ファイル:** `src/lecture08/app_omikuji_a.py`
-   **ヒント:** 運勢の結果（例：「大吉」「中吉」など）、それに対応するメッセージ、画像ファイル名のリストを事前に複数用意しておき、ボタンが押されたら `random.choice()` でランダムに一つ選んで表示します。
-   **画像フォルダ(例):** `src/lecture08/images/omikuji/`
-   **補足:**
    -   `app_omikuji.py` (テンプレート): おみくじ結果データ構造定義、ボタン配置、ランダム選択、結果表示箇所に `TODO` とヒントを記載。`st.balloons()` 等のエフェクトも紹介。
    -   `app_omikuji_a.py` (解答例): 運勢名、メッセージ、画像パス、アニメーション（任意）を含む辞書のリスト `fortune_results` を定義。`random.choice` で結果を選択し、`st.image`, `st.balloons`/`st.snow` 等で表示。`st.session_state` で最後の結果を保持。

---

**開発の進め方:**
1.  上記からテーマを1つ選びます。
2.  対応する `.py` ファイルを開き、まずはファイルの先頭にある簡単な説明やヒントを読みましょう。
3.  コメントアウトされている部分を参考にしながら、少しずつ機能を実装していきます。
4.  途中で `streamlit run あなたのファイル名.py` を実行して、動作を確認しながら進めましょう。
5.  `st.image` や `st.video` を使って、アプリをより魅力的にしてみましょう！

**困ったら:**
- スライド (`08_slide.md`) の情報も参考にしてください。
- これまでの授業資料や、`src/lecture07/app_lecture_a.py` などの解答例もヒントになります。
- 遠慮なく教員に質問してください！

## 3. GitHubであなたのアプリを世界に発信する準備をしよう！ (約20分)

選んだテーマのアプリ開発がある程度進んだら（完成していなくても大丈夫！）、そのコードをGitHubに保存・管理しましょう。これは来週行う「Streamlit Community Cloudへのデプロイ（アプリの公開）」の重要な準備ステップです。

### なぜGitHubを使うの？
- **バックアップとバージョン管理**: 大事なコードを安全に保管し、変更履歴を記録できます。
- **共有と公開**: あなたの作品を世界に見せる第一歩です。

### GitHub基本操作ステップ (推奨: GitHub.dev)
1.  **GitHubアカウント**: 準備はOK？ (なければ [https://github.com/join](https://github.com/join) から作成)
2.  **新しいリポジトリ作成**: GitHub上で新しい保管場所を作ります (例: `my-streamlit-app-cource` や `streamlit-practice` など)。
    - 「Public」を選び、「Add a README file」にチェック推奨。
3.  **GitHub.devでファイル操作**: 
    - 作成したリポジトリのURLの `.com` を `.dev` に変えてアクセス (例: `https://github.dev/あなたのユーザー名/リポジトリ名`)。
    - エディタが開いたら、`src/lecture08/` フォルダからあなたの作業中/完成した `.py` ファイルの中身をコピーし、GitHub.dev上で新しいファイルとして (例: `app_おみくじ.py` や `my_profile_card.py` など、わかりやすい名前で) 作成・貼り付け・保存します。
    - 必要であれば、使用した画像ファイルなどもアップロードしましょう (ドラッグ&ドロップで追加できます。`src/lecture08/images/テーマ名/` のようなフォルダ構造をGitHub上でも再現すると管理しやすいです)。
4.  **変更をコミット (記録) & プッシュ (同期)**:
    - 左側「ソース管理」タブで変更内容を確認。
    - 「メッセージ」欄に説明 (例: 「おみくじアプリの初版完成」) を入力。
    - 「コミットとプッシュ」ボタンでGitHubに保存完了！

## 4. 本日のタイムスケジュール (目安)
| 時間          | 内容                                                     |
|---------------|----------------------------------------------------------|
| 00:00 - 00:10 | 本日の進め方、目標、課題テーマの紹介                     |
| 00:10 - 00:55 | 課題演習: 好きなテーマを選んでStreamlitアプリを開発！      |
| 00:55 - 01:05 | 質疑応答、ワンポイントアドバイス、成果共有 (希望者)        |
| 01:05 - 01:25 | GitHub入門: 作成したコードをGitHubに保存しよう           |
| 01:25 - 01:30 | まとめ、次回予告                                         |

## 5. 配布資料 (再掲)
- このファイル (`lectures/08_課題演習1_GitHub/08_README.md`)
- 講義スライド (`lectures/08_課題演習1_GitHub/08_slide.pdf`)
- 各テーマの演習用テンプレート (`src/lecture08/app_テーマ名.py`)
- 各テーマの解答例 (`src/lecture08/app_テーマ名_a.py`) (授業後や詰まった際の確認用)

## 6. 次回予告
- **第9回: 課題演習(2) と デプロイ**
    - 今回作成したアプリをさらに改良したり、新しい機能を追加したりしましょう！
    - そして、ついにGitHubにアップロードしたあなたのアプリを「Streamlit Community Cloud」を使って、世界中の人がアクセスできるようにインターネットに公開します！ 