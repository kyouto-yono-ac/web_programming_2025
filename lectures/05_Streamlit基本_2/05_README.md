# 第5回 Streamlit基本 (2): レイアウト

## 基本情報

- **授業時間:** 90分 (実質70-80分程度を想定)
- **形式:** 講義 + 演習 (Streamlit Cloud + GitHub.dev または ローカル環境)
- **必要機材:** ノートPC、インターネット接続、GitHubアカウント

## 授業の目標

この授業では、Streamlit アプリケーションの見た目を整理し、情報を効果的に配置するためのレイアウト機能の使い方を習得します。
具体的には以下の点を目標とします。

1.  **サイドバーの利用:** `st.sidebar` を使って、メイン画面とは別の領域に設定項目やナビゲーションを配置する方法を学ぶ。
2.  **列レイアウト:** `st.columns` を使って、画面を複数の列に分割し、要素を横に並べる方法を学ぶ。
3.  **タブ表示:** `st.tabs` を使って、複数のコンテンツをタブで切り替えて表示する方法を学ぶ。
4.  **展開可能なコンテナ:** `st.expander` を使って、クリックで詳細情報を表示/非表示にする方法を学ぶ。
5.  **コンテナの利用:** `st.container` を使って、関連する要素をグループ化し、配置を制御する方法を理解する。

## タイムスケジュール (目安)

| 時間       | 内容                             | 詳細                                                                       |
| ---------- | -------------------------------- | -------------------------------------------------------------------------- |
| 00:00-00:05 | 前回の復習と本日の目標           | 表示系ウィジェットの復習、レイアウトの重要性、本日の流れ説明                 |
| 00:05-00:15 | サイドバー (`st.sidebar`)        | サイドバーへのウィジェット配置方法、メイン画面との違いの説明とデモ           |
| 00:15-00:30 | 列レイアウト (`st.columns`)      | 画面分割、列数の指定、各列へのウィジェット配置方法の説明と演習             |
| 00:30-00:45 | タブ表示 (`st.tabs`)           | タブの作成、各タブへのコンテンツ配置方法の説明と演習                       |
| 00:45-00:55 | 展開可能コンテナ (`st.expander`) | 詳細情報の格納、デフォルトでの開閉状態設定の説明と演習                     |
| 00:55-01:05 | コンテナ (`st.container`)        | 要素のグループ化、`with` 構文を使った配置制御の概念説明と簡単なデモ        |
| 01:05-01:20 | 総合演習                         | サイドバー、列、タブ、エクスパンダを組み合わせて、構造化されたアプリを作成   |
| 01:20-01:25 | まとめと次回予告                 | 本日の内容の振り返り、次回 (Streamlit 発展 1: 入力ウィジェット) の予告、質疑応答 |

## 授業内容の詳細

### 1. 前回の復習と本日の目標 (5分)
- 前回の授業で学んだ Streamlit の基本的な表示系ウィジェット (`st.title`, `st.write`, `st.markdown`, `st.dataframe`, `st.metric` など) を簡単に振り返ります。
- アプリケーションの情報量が増えた際に、レイアウトを整理することの重要性を説明します。
- 本日の目標である各種レイアウト機能の習得を確認します。

### 2. サイドバー (`st.sidebar`) (10分)
- アプリのメインコンテンツとは別に、設定項目、ナビゲーション、情報表示などを配置できるサイドバーの使い方を学びます。
- `st.sidebar.title()`, `st.sidebar.button()` のように、`st` の代わりに `st.sidebar` を付けてウィジェットを呼び出すことでサイドバーに配置できることを説明し、デモを行います。

### 3. 列レイアウト (`st.columns`) (15分)
- `st.columns(分割数)` または `st.columns([比率1, 比率2, ...])` を使って、画面を水平方向に複数の列に分割する方法を学びます。
- `with` 構文を使って、各列にウィジェットを配置する方法を解説します。
- 例: 2列に分割して画像を並べる、3列に分割してメトリックを表示するなど。
- 簡単な演習を行います。

### 4. タブ表示 (`st.tabs`) (15分)
- 複数の関連コンテンツをタブで切り替えて表示する `st.tabs(["タブ名1", "タブ名2", ...])` の使い方を学びます。
- `with` 構文を使って、各タブ内にコンテンツを配置する方法を解説します。
- 例: 「概要」「詳細データ」「グラフ」などのタブを作成し、それぞれに異なる情報を表示する。
- 簡単な演習を行います。

### 5. 展開可能なコンテナ (`st.expander`) (10分)
- デフォルトでは折りたたまれており、クリックすると内容が表示される `st.expander("ラベル")` の使い方を学びます。
- 詳細説明や補足情報など、通常は隠しておきたいコンテンツの表示に適していることを説明します。
- `with` 構文を使って、エクスパンダ内にコンテンツを配置する方法を解説します。
- 簡単な演習を行います。

### 6. コンテナ (`st.container`) (10分)
- 複数の Streamlit 要素を視覚的にグループ化するための `st.container()` の使い方を学びます。
- コンテナ自体は直接的な見た目を持ちませんが、`with` 構文と組み合わせることで、要素の配置順序を制御したり、後から要素を挿入したりする（高度な使い方）ための基礎となることを説明します。
- 簡単なデモを通じて、要素がコンテナ内にまとまる様子を確認します。

### 7. 総合演習 (15分)
- これまでに学んだサイドバー、列、タブ、エクスパンダを組み合わせて、より整理された見た目のアプリケーションを作成する演習を行います。
- 例: サイドバーで設定を行い、メイン画面を列で分割し、一部をタブやエクスパンダで表示する。

### 8. まとめと次回予告 (5分)
- 本日の学習内容（サイドバー、列、タブ、エクスパンダ、コンテナ）を振り返り、レイアウトの重要性を再確認します。
- 次回はユーザーからの入力を受け付けるための様々な「入力ウィジェット」 (`st.button`, `st.selectbox` など) について学ぶことを予告します。
- 質疑応答の時間を設けます。

## 準備物

### 教員側
- 講義用スライド (`05_slide.md`)
- 講義用サンプルコードリポジトリ (GitHub)
- 演習用課題指示

### 学生側
- ノートPC
- インターネット接続環境
- GitHubアカウント
- (推奨) 前回の授業内容 (Streamlit 表示ウィジェット) の理解

## 配布資料

- 講義用スライド PDF (`05_slide.pdf` - Marp で変換後)
- サンプルコードへのリンク (GitHub)
- 演習課題

## 次回予告

- **第6回: Streamlit発展 (1): 入力ウィジェット**
- `st.button`, `st.selectbox`, `st.slider`, `st.date_input` など、ユーザーからの様々な入力を受け付ける方法を学びます。 