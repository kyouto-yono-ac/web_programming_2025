# 第4回 Streamlit基本 (1): テキストとデータ表示

## 基本情報

- **授業時間:** 90分 (実質70-80分程度を想定)
- **形式:** 講義 + 演習 (Streamlit Cloud + GitHub.dev または ローカル環境)
- **必要機材:** ノートPC、インターネット接続、GitHubアカウント

## 授業の目標

この授業では、Streamlit を使って Web アプリケーション上に様々な形式の情報を効果的に表示する方法を習得します。
具体的には以下の点を目標とします。

1.  **Streamlit アプリの基本構造の理解:** `import streamlit as st` から始まる基本的な書き方を理解する。
2.  **テキスト表示:** `st.title`, `st.header`, `st.subheader`, `st.write`, `st.markdown`, `st.text`, `st.code` を使って、見出し、本文、コードなどを表示する方法を学ぶ。
3.  **データ表示:** `st.dataframe`, `st.table`, `st.metric` を使って、表形式データや主要な数値を分かりやすく表示する方法を学ぶ。
4.  **マジックコマンドの理解:** Streamlit 固有の「マジックコマンド」を使って、より簡潔に値を表示する方法を知る。

## タイムスケジュール (目安)

| 時間       | 内容                             | 詳細                                                                                   |
| ---------- | -------------------------------- | -------------------------------------------------------------------------------------- |
| 00:00-00:10 | 前回の復習と Streamlit 概要      | Python 制御構造/関数の復習、Streamlit とは何か、アプリ実行方法の再確認                 |
| 00:10-00:25 | 基本的なテキスト表示             | `st.title`, `st.header`, `st.subheader`, `st.write`, `st.text` の使い方と違い         |
| 00:25-00:35 | Markdown とコードの表示        | `st.markdown` によるリッチテキスト、`st.code` によるコードスニペット表示               |
| 00:35-00:45 | マジックコマンド                 | 変数や値を直接表示するマジックコマンドの紹介                                           |
| 00:45-01:00 | データフレームとテーブル表示     | Pandas DataFrame の準備、`st.dataframe` (インタラクティブ), `st.table` (静的) の表示 |
| 01:00-01:10 | メトリック表示                   | `st.metric` を使った主要数値の表示 (値、ラベル、差分)                                  |
| 01:10-01:20 | 総合演習                         | ここまで学んだ表示系ウィジェットを組み合わせて簡単な情報ページを作成                     |
| 01:20-01:25 | まとめと次回予告                 | 本日の内容の振り返り、次回 (Streamlit 基本 2: レイアウト) の予告、質疑応答           |

## 授業内容の詳細

### 1. 前回の復習と Streamlit 概要 (10分)
- 前回の授業で学んだ Python の制御構造 (if, for, while) と関数 (def) について簡単に振り返ります。
- Streamlit が Python で簡単に Web アプリを作成できるフレームワークであることを再確認します。
- Streamlit アプリの基本的な実行方法 (`streamlit run app.py`) を復習します。

### 2. 基本的なテキスト表示 (15分)
- Streamlit アプリの基本的な構造 (`import streamlit as st`) を示します。
- `st.title()`: アプリのメインタイトル
- `st.header()`: セクションの見出し
- `st.subheader()`: サブセクションの見出し
- `st.write()`: 最も汎用的な表示コマンド (文字列、数値、データフレームなど多くに対応)
- `st.text()`: 固定幅フォントでのシンプルなテキスト表示
- これらのコマンドの使い方と、表示結果の違いをデモと簡単な演習で確認します。

### 3. Markdown とコードの表示 (10分)
- `st.markdown()`: Markdown 記法を使って、太字、イタリック、リスト、リンク、画像などを表示する方法を学びます。
- `st.code()`: Python コードやその他のコードスニペットをシンタックスハイライト付きで表示する方法を学びます。

### 4. マジックコマンド (10分)
- Streamlit では、`st.write()` を使わずに変数やリテラルを直接記述するだけで表示できる「マジックコマンド」機能があることを紹介します。
- 例: `x = 10`, `x` と書くだけで `10` が表示される。
- どのようなものがマジックコマンドで表示できるか、簡単なデモで示します。（主にデバッグや簡単な確認用）

### 5. データフレームとテーブル表示 (15分)
- 簡単なサンプルデータを使って Pandas DataFrame を作成する方法を復習します。（またはサンプル DataFrame を用意）
- `st.dataframe()`: スクロールやソートが可能なインタラクティブなテーブルとして DataFrame を表示します。
- `st.table()`: 静的なテーブルとして DataFrame を表示します。表示できる行数に制限がある点に注意します。
- 両者の違いと使い分けについて解説します。

### 6. メトリック表示 (10分)
- `st.metric()`: 主要業績評価指標 (KPI) などの数値を分かりやすく表示するためのウィジェットです。
- ラベル、現在の値、オプションで以前の値との差分（デルタ）を表示する方法を学びます。

### 7. 総合演習 (10分)
- これまでに学んだテキスト表示、データ表示、メトリック表示のウィジェットを組み合わせて、簡単なプロフィールやダッシュボードのようなページを作成する演習を行います。

### 8. まとめと次回予告 (5分)
- 本日の学習内容（各種表示ウィジェット）を振り返り、重要なポイントを確認します。
- 次回は Streamlit アプリの見た目を整理する「レイアウト」機能 (`st.columns`, `st.tabs` など) について学ぶことを予告します。
- 質疑応答の時間を設けます。

## 準備物

### 教員側
- 講義用スライド (`04_slide.md`)
- 講義用サンプルコードリポジトリ (GitHub)
- 演習用課題指示

### 学生側
- ノートPC
- インターネット接続環境
- GitHubアカウント
- (推奨) 前回の授業内容 (Python 基礎) の理解

## 配布資料

- 講義用スライド PDF (`04_slide.pdf` - Marp で変換後)
- サンプルコードへのリンク (GitHub)
- 演習課題

## 次回予告

- **第5回: Streamlit基本 (2): レイアウト**
- `st.columns`, `st.tabs`, `st.expander`, `st.container` を使って、アプリの画面を分割したり、情報を整理したりする方法を学びます。 